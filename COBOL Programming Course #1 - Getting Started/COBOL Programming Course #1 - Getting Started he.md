---
geometry:
- margin=1in
header-includes:
- \lstset{basicstyle=\ttfamily,
    stepnumber=2,
    numbersep=5pt,
    backgroundcolor=\color{black!10},
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2,
    captionpos=b,
    breaklines=true,
    breakatwhitespace=true,
    breakautoindent=true,
    linewidth=\textwidth}
colorlinks: true
toccolor: Blue
---
\newpage



# VSCode עם Zowe Explorer

Zowe Explorer הוא תוסף בקוד פתוח עבור VS Code המאפשרת למפתחים ולמנהלי מערכות לקיים אינטראקציה עם מחשבי mainframe של z/OS.

- **מבוא ל-Zowe Explorer**
- **שימוש ב-Zowe Explorer**
- **פרופילים ב-Zowe Explorer**
     - **אישורים מאובטחים**
     - **יצירת קובץ תצורת צוות**
     - **עריכת פרופילים**
- **סיכום**

## מבוא ל-Zowe Explorer

התוסף Zowe Explorer מחדש את הדרך שבה מפתחים ומנהלי מערכות מקיימים אינטראקציה עם מחשבי mainframe של z/OS. עבודה עם Data Sets וקבצי USS מתוך VS Code יכולה להיות נוחה יותר משימוש באמולטורים של 3270. ההרחבה מספקת את היתרונות הבאים:

* יצירה, שינוי, שינוי שם, העתקה והעלאה של Data Sets ישירות ל-mainframe של z/OS.
* יצירה, שינוי, שינוי שם והעלאה של קבצי USS ישירות ל-mainframe של z/OS.
* תהליך יעיל לגישה לData Sets, קבצי USS ועבודות (jobs).
* אינטראקציה קלה עם מספר מערכות z/OS.

ניתן להתקין את Zowe Explorer ב-VS Code על ידי חיפוש "Zowe Explorer" ב-Extensions Marketplace בתוך VS Code ובחירת install. לקבלת הוראות מפורטות יותר על התקנת הרחבה זו, עיין בפרק "התקנת VSCode והרחבות".

## שימוש ב-Zowe Explorer

Zowe Explorer מאפשר לך לעבוד עם Data Sets, קבצי Unix System Service (USS) ועבודות (jobs).

Zowe Explorer מציע את הפונקציות הבאות:

Data Sets

* חיפוש Data Sets התואמים למסננים רצויים והצגת תוכנם.
* הורדה, עריכה והעלאה של קבצי PDS (members) קיימים.
* יצירה ומחיקה של Data Sets וחברי Data Sets.
* אינטראקציה עם Data Sets ממספר מערכות בו-זמנית.
* שינוי שם של Data Sets.
* העתקת Data Sets.
* הגשת JCL מחבר קבוצת נתונים נבחר.

קבצי USS

* הצגת מספר קבצי Unix System Services (USS) בו-זמנית.
* הורדה, עריכה והעלאה של קבצי USS קיימים.
* יצירה ומחיקה של קבצי וספריות USS.
* אינטראקציה עם קבצי USS ממספר מערכות בו-זמנית.
* שינוי שם של קבצי USS.

Jobs

* הצגת מספר Jobs בו-זמנית.
* הורדת תוכן spool.
* אינטראקציה עם Jobs ממספר מערכות בו-זמנית.

למידע נוסף על Zowe Explorer ומקרי שימוש שונים, בקר ב-[marketplace](https://marketplace.visualstudio.com/items?itemName=Zowe.vscode-extension-for-zowe).

## פרופילים ב-Zowe Explorer

פרופילים משמשים כנקודת קשר עבור Zowe Explorer וה-Mainframe. פרופילים מכילים את כתובת ה-URL עבור שירותי ה-API שאליהם ברצונך להתחבר ואת האישורים שלך. המידע העיקרי על הפרופיל שאתה צריך עבור Zowe Explorer הוא חיבור z/OSMF. אם התקנת את Zowe Explorer, תוכל לבצע את השלבים בסעיף זה כדי להתחבר ל-mainframe.

### אישורים מאובטחים

ל-Zowe Explorer יש חנות אישורים מאובטחת (Secure Credential Store). מה מאפשר לך להצפין את האישורים המאוחסנים במחשב שלך, וכתוצאה מכך, לאבטח את החיבור שלך ל-Mainframe.

כדי להפעיל תכונה זו, בצע את השלבים הבאים:

1. לחץ על **סמל גלגל השיניים** בפינה השמאלית התחתונה ובחר **Settings**.
2. לחץ על **User Settings** > **Extensions** > **Zowe Explorer**.
3. חפש את השדה **Zowe Security: Check For Custom Credential Managers and Secure Credentials Enabled**.

![](Images/code4z/code4z-img6.png)

### יצירת קובץ תצורת צוות

בצע את השלבים הבאים:
@הגעתי לכאן

1. נווט לעץ Zowe Explorer ובדוק אם כבר יש לך קובץ תצורת צוות של zosmf.

<img src="Images/code4z/code4z-img8.png" width="400" />

2. אם אין לך, לחץ על סימן ה-+. תופיע תיבת דו-שיח שתשאל אם ברצונך "ליצור קובץ תצורת צוות חדש" (Create a New Team Configuration File).

3. לחץ על Enter או על בחירה זו.

![](Images/code4z/code4z-img9.png)

4. תוכל לאתחל את קובץ התצורה בספריית הבית של Zowe או בספריית העבודה הנוכחית.

![](Images/code4z/code4z-img10.png)

### עריכת פרופילים

Zowe Explorer v3.0 מאפשר למשתמשים לערוך את הפרופילים שלהם, מה שמאפשר להם לעדכן את פרטי הפרופיל הקיימים שלהם ולהמשיך להשתמש ב-Zowe Explorer.

בצע את השלבים הבאים:

1. לחץ באמצעות לחצן העכבר הימני על קובץ תצורת הצוות שברצונך לערוך.
2. מהתפריט הנפתח בחר **Manage Profile**.

<img src="Images/code4z/code4z-img16.png" width="400" />

3. נפתחת תיבת דו-שיח, המציגה רשימה של שינויים זמינים בפרופיל.

![](Images/code4z/code4z-img11.png)

4. לחץ על Edit Profile. כעת תקבל את קובץ zowe.config.json.

![](Images/code4z/code4z-img11-1.png)

5. ודא שאתה מחובר למארח הנכון: 204.90.115.200, והגדר את 'rejectUnauthorized' ל-false לחיבור מוצלח.

![](Images/code4z/code4z-img11-2.png)

6. לחץ על Update Credentials. הזן את שם המשתמש והסיסמה שלך.

![](Images/code4z/code4z-img12-18.png)

![](Images/code4z/code4z-img13-19.png)

## סיכום

בסעיף זה, למדת את התכונות הבסיסיות של הרחבת Zowe Explorer וכיצד ליצור ולעבוד עם פרופיל `zosmf` תואם Zowe.

\newpage

# VSCode עם Z Open Editor

בפרק זה נסביר כיצד להשתמש בהרחבת IBM Z Open Editor עבור VSCode וכיצד השימוש בה יכול לעזור לך לפתח קוד מקור של COBOL בסביבה עשירה בתכונות.

- **מבוא ל-IBM Z Open Editor**

     - **מהו IBM Z Open Editor?**
     - **תפקידו של פרוטוקול שרת השפה (Language Server Protocol)**
     - **התקנת IBM Z Open Editor עבור VS Code**

- **עריכה בסיסית**
     - **סיומות קבצים מוכרות**
     - **שוליים**
     - **הרחבת משתנים**
     - **הדגשת תחביר**

- **ניווט בקוד**
     - **תצוגת מיתאר (Outline view)**
     - **תצוגת פירורי לחם (Breadcrumb view)**
     - **קפיצה להצהרה / הפניה**

- **השלמת קוד**
     - **השלמת מילים שמורות של COBOL**
     - **השלמת משתנים**
     - **השלמת API של CICS, MQ, DB2**

- **ארגון מחדש של קוד (Refactoring)**
     - **שינוי שמות משתנים**
     - **טיפול בשגיאות**

- **סיכום**

## מבוא ל-IBM Z Open Editor

סעיף זה מציג את IBM Z Open Editor.

### מהו IBM Z Open Editor?

IBM Z Open Editor היא הרחבה חינמית עבור Visual Studio Code (VSCode) המספקת תמיכה בשפות COBOL, PL/I ו-JCL. יחד עם תמיכה זו בשפות, היא מספקת גם סיוע בתוכן ליישומים הקוראים לממשקי API של CICS, MQ ו-DB2. קוד המקור אפילו לא צריך להיות על z/OS, הוא יכול להיות במאגר קוד מקור, מקומית בקובץ, או על z/OS. למרות שקורס זה מתמקד ב-COBOL כשפת מקור, רבות מהפונקציות שנדון בהן יחולו גם על PL/I ו-JCL.

### תפקידו של פרוטוקול שרת השפה (Language Server Protocol)

סביבות פיתוח משולבות תמיד רוצות לספק פלטפורמה עשירה לכל שפות התכנות הנתמכות, אולם, ריבוי שפות התכנות והמהירות שבה עורכים חדשים מגיעים לשוק מקשים על שמירת הקצב. כל עורך יצטרך לספק תוסף ספציפי לעורך עבור כל שפה שבה הוא רוצה לתמוך, וכך התמיכה בשפה מסוימת תהיה שונה בין עורכים שונים.

מיקרוסופט תכננה את פרוטוקול שרת השפה (LSP) כדי לשמש תיאור משותף לאופן שבו יש ליישם תכונות כמו השלמה אוטומטית עבור שפה ספציפית. שפות שיש להן שרת LSP מיושם יכולות לשמש בכל עורך התומך ב-LSP. חברות רבות וקהילת הקוד הפתוח שיתפו פעולה כדי לספק שרתי LSP למגוון שפות שונות.

פרוטוקול שרת השפה מגדיר שש יכולות רחבות שיש ליישם כדי ששרת שפה יהיה תואם LSP. יכולות אלה כוללות השלמת קוד, ריחוף (hover), קפיצה להגדרה, סמלי סביבת עבודה, מציאת הפניות ואבחון. IBM Z Open Editor מספק שרתי שפה תואמים הן לשפות Enterprise COBOL והן ל-Enterprise PL/I for z/OS. בנוסף להיותם תואמים, הם מספקים גם יכולות נוספות שנדון בהן בהמשך.

**הערה:** מידע נוסף על יישומי פרוטוקול שרת השפה ניתן למצוא בכתובת: `https://langserver.org`

### התקנת IBM Z Open Editor עבור VS Code

ניתן להתקין את IBM Z Open Editor ב-VS Code על ידי חיפוש "IBM Z Open Editor" ב-Extensions Marketplace בתוך VSCode ובחירת install. לאחר ההתקנה, העורך המוגדר כברירת מחדל יופעל כדי לספק חווית עריכה עשירה עבור COBOL, PL/I ו-JCL. אין צורך להשתמש בעורך ספציפי לשפות אלה. לקבלת הוראות מפורטות יותר על התקנת הרחבה זו, עיין בפרק "התקנת VSCode והרחבות".

## עריכה בסיסית

בהמשך פרק זה, נשתמש בתוכנית הדוגמה CBL0001 כדי להדגים עד כמה עשירה יכולה להיות חווית עריכת COBOL ב-VSCode. אז, בואו נפעיל את VSCode, נתקין את IBM Z Open Editor (אם הוא עדיין לא מותקן), נפתח את CBL0001 ונתחיל.

### סיומות קבצים מוכרות

כדי ש-VSCode ישתמש ביכולות של IBM Z Open Editor, הוא צריך לדעת שהקובץ שאנו עורכים הוא קובץ COBOL. VSCode משיג זאת על ידי השוואת המיקום והשם של הקובץ הנפתח לרשימת סיומות מוכרות כדי למפות את הקובץ לשפה ידועה. עבור COBOL משתמשים בשיוכים הבאים:

- \*.COBOL\*
- \*.CBL\*
- \*.COB\*
- \*.COBCOPY\*
- \*.COPYBOOK\*
- \*.COPY\*

אלה חלים הן על קבצים מקומיים והן על קבצים המוחזקים ב-Partitioned Data Set או PDS ב-mainframe, שלצורך הפשטות ניתן לחשוב עליו כתיקייה. לפיכך, PDS בשם:

```
Z99994.COBOL
```

או קובץ במערכת הקבצים המקומית בשם:

```
PROGA1.COBOL
```

ייחשבו כקוד COBOL. מידע זה מאוחסן בקובץ הגדרות ה-JSON הגלובלי של VSCode, שניתן לגשת אליו דרך העדפות VSCode. זה מאפשר למשתמש להתאים את הסיומות המוכרות של VSCode למוסכמות שמות ספציפיות לאתר.

### שוליים

הדבר הראשון שתבחין בו בעת עריכת קוד מקור של COBOL הוא ש-VSCode הכניס חמישה קווים אנכיים לאורך הקובץ. קווים אלה מחלקים כל שורת קוד לאזורים השמורים למספרי רצף, תווי הערה/המשך, אזור A ואזור B. כאשר אני מקודד ללא עזר בסיסי זה, איני יכול לספור את מספר הפעמים שביצעתי שגיאת קומפילציה מכיוון שהתחלתי לקודד בעמודה הלא נכונה. זה לבדו הוא עזר שימושי מאוד למתכנת COBOL חדש. מידע נוסף על תחביר COBOL, ובפרט על העמודות, יידון בהמשך.

### הרחבת משתנים

בזמן שאתה גולש ב-CBL0001, הקש `CTRL + G` כדי לקפוץ לשורת קוד ספציפית. ייפתח דו-שיח קטן שישאל אותך על השורה שאליה ברצונך לקפוץ, הקלד `87` והקש על מקש Enter. VSCode ידגיש את שורת הקוד הזו וינווט אותך ישירות אליה, כפי שמוצג באיור 1.

![](Images/image006.png)

*איור 1. ניווט לשורת קוד ספציפית*

אם תרחף עם העכבר מעל השדה 'ACCT-NO-O', תופיע חלונית קופצת המציגה את הצהרת המשתנה הזה, כפי שמוצג באיור 2.

![](Images/image008.png)

*איור 2. הצגת הצהרת משתנה*

מכיוון ששדה זה הוא משתנה ברמה 05 המקונן בתוך משתנה ברמה 01, החלונית הקופצת מציגה את הצהרת השדה כמשתנה תמונה של שמונה בתים, את שם מבנה האב ואת הגדרת הקובץ שבו הוא נמצא. אם תחזיק את מקש CMD/Ctrl בזמן ריחוף מעל השדה, החלונית הקופצת תכיל בנוסף את שורת הקוד שבה המשתנה מוגדר וכן את שלוש שורות הקוד הבאות. תכונות אלה יכולות להיות מועילות ביותר בעת ניתוח קוד קיים.

### הדגשת תחביר

קוד ה-COBOL שאתה עורך יודגש גם כדי לעזור לך להבין את המרכיבים השונים של שפת COBOL. בהתאם לערכת הצבעים שבחרת ב-VSCode, הערות, מילים שמורות של COBOL, ערכים מילוליים ומשתנים ייצבעו בצבעים שונים, מה שיאפשר לך לזהות בעיות תחביר ברורות בשלב מוקדם עוד לפני הגשת הקוד לבנייה.

## ניווט בקוד

למרות שדוגמאות הקוד שאנו משתמשים בהן בסעיף זה קטנות למדי, הקוד שאתה עשוי לכתוב יכול להכיל מאות או אלפי שורות. היכולת להבין את המבנה הכללי של קוד המקור ולהיות מסוגל למצוא את דרכך בו מבלי ללכת לאיבוד היא יתרון גדול בעת עריכת COBOL. למרבה המזל, יש כמה תכונות נהדרות שיעזרו לך, שנדון בהן בהמשך.

### תצוגת מיתאר (Outline view)

בסרגל הצד של ה-explorer ב-VSCode, ישנה תצוגת מיתאר שתתמלא בכל פעם שאתה עורך קובץ COBOL. תצוגה זו מכילה מבט מתקפל על כל חטיבה, מבנה נתונים ופסקה בקוד שלך. זה מאפשר לך להציג בקלות את מבנה קוד המקור. לחיצה על פסקה, חטיבה או רכיב נתונים מסוים תזיז בו-זמנית את העורך כדי להציג את אותו קטע קוד ותדגיש אותו, כפי שמתואר באיור 3. זה מקל מאוד על קפיצה לחלק מסוים בקוד.

![](Images/image011.png)

*איור 3. תצוגת מיתאר ב-VSCode*

### תצוגת פירורי לחם (Breadcrumb view)

באופן דומה, תצוגת פירורי הלחם בחלק העליון של העורך יכולה להראות היכן שורת הקוד הנוכחית קיימת במבנה קוד המקור של COBOL. בזמן שאתה מנווט בקוד המקור בעורך, שביל פירורי הלחם יתעדכן אוטומטית כדי לשקף היכן אתה נמצא במבנה התוכנית ומספק לך מנגנון לעבור לרכיב אחר בקוד. שוב, אם תפתח את CBL0001 ב-VSCode ותקפוץ לשורה 50, שורה זו היא הצהרה של השדה USA-STATE בתוך המבנה ACCT-FIELDS, ב-FILE-SECTION של ה-DATA-DIVISION. בחלק העליון של העורך, שביל פירורי הלחם יציג את המידע המוצג באיור 4.

![](Images/image013.png)

*איור 4. שביל פירורי לחם ב-VSCode*

לחיצה על כל אחד מהפריטים בשביל פירורי הלחם תדגיש את אותו רכיב בקוד בעורך, ותראה לך במהירות את מיקום הרכיב הזה בקוד. זה גם יציג תצוגה של הקוד בחלון קופץ, המוצג באיור 5, בדומה לתצוגת המיתאר שנדונה קודם לכן.

![](Images/image016.png)

*איור 5. תצוגה קופצת של קוד באמצעות בחירת פירורי לחם*

### קפיצה להצהרה / הפניה

בזמן שאתה גולש בקוד תתקל בהצהרות PERFORM של COBOL או בהפניות למשתנים. לעתים קרובות תצטרך לנווט להגדרת אותה פסקה או משתנה כדי לעקוב אחר ביצוע הקוד. בשורה 64 של CBL0001, אנו רואים קבוצה של הצהרות PERFORM. מקם את הסמן בתוך השם, READ-RECORD, בשורה 65, לחץ באמצעות לחצן העכבר הימני ובחר **Go to Definition**. לאחר מכן העורך מנווט לפסקת READ-RECORD בשורה 82. במקום ללחוץ באמצעות לחצן העכבר הימני, ניתן להגיע לאותה פונקציה באמצעות מקש F12.

"Go to References" מבצע את הפעולה ההפוכה ומאפשר לך לנווט מהגדרת פסקה או משתנה לכל המקומות ביישום המפנים לאותה פסקה או משתנה. כדי להדגים זאת, נווט לשורה 82 של CBL0001, שהיא שוב הצהרת פסקת READ-RECORD. כדי לראות את כל המקומות שבהם פסקה זו נקראת, לחץ באמצעות לחצן העכבר הימני ובחר **Go to References**, או הקש על צירוף המקשים **SHIFT+F12**. פעולה זו תזמן דו-שיח קופץ חדש המציג את כל ההפניות לפסקה זו בקוד, המוצג באיור 6.

**הערה:** אם **SHIFT+F12** אינו פועל במחשב שלך, ייתכן שתצטרך להשתמש בצירוף המקשים, **Fn+F12** **במקום.**

![](Images/image017.png)

*איור 6. מציאת הפניות לפסקה/משתנה ב-VSCode*

## השלמת קוד

השלמת קוד אינה מושג חדש ברוב סביבות הפיתוח המשולבות. לדוגמה, עורך Eclipse מספק השלמה אוטומטית עבור ממשקי API של Java מזה זמן רב. אותו צירוף מקשים, **CTRL+SPACE**, מפעיל פונקציית השלמה אוטומטית זו בזמן שאתה מקודד וניתן להשתמש בו כדי להדריך אותך בתחביר COBOL ובקריאות API של CICS.

### השלמת מילים שמורות של COBOL

בזמן שאתה מקליד מילה שמורה של COBOL, אתה יכול להקליד `CTRL+SPACE` ו-IBM Z Open Editor יציג, בחלונית קופצת, רשימה של מילים שמורות אפשריות של COBOL שאולי אתה מנסה להשתמש בהן. שימוש במקשי הסמן או בעכבר מאפשר לך לבחור את מילת המפתח המומלצת הנכונה וללחוץ על Enter כדי לבחור אותה ושאר המילה השמורה תוזן עבורך, כלומר תושלם אוטומטית!

### השלמת משתנים

ניתן ליישם את אותה טכניקה להשלמת משתנים. זה יכול להיות שימושי במיוחד כאשר אתה מפנה למשתנה שקיים מספר פעמים במבנים שונים. במקרים אלה, השלמה אוטומטית יכולה לעזור לך לזהות את המשתנה שבו ברצונך להשתמש. לדוגמה, צור שורה חדשה בתוך פסקת WRITE-RECORD. בשורה החדשה, הזן את הקוד `MOVE ACCT-BA` ולאחר מכן הקש **CTRL+SPACE** כדי להפעיל השלמת קוד אוטומטית. אתה אמור לראות חלונית קופצת דומה לזו המוצגת באיור 7 להלן.

![](Images/image019.png)

*איור 7. השלמה אוטומטית ב-VSCode*

ניתן לראות שלא רק המשתנה ACCT-BALANCE מוצע כמועמד פוטנציאלי, אלא הוא מציג גם את ACCT_BALANCE IN ACCT-FIELDS.

### השלמת API של CICS, MQ, DB2

השלמת המשתנים האוטומטית מתרחבת גם לממשקי ה-API של CICS ו-DB2, הידועים כהצהרות EXEC CICS ו-EXEC SQL. למרות שתכנות COBOL עבור DB2 ו-CICS אינו מוקד עיקרי כאן, שים לב שאם תמצא את עצמך מתכנת עבור אחד מממשקי API אלה, היכולת זמינה.

## ארגון מחדש של קוד (Refactoring)

עבודה עם קוד מקור לעתים רחוקות עוסקת רק ביצירה הראשונית, במהלך מחזור החיים של תוכנית היא תשתנה ותעובד מחדש, לעתים קרובות אנו מכנים עבודה זו ארגון מחדש (refactoring). סעיף זה בוחן שינוי שמות משתנים וטיפול בשגיאות.

### שינוי שמות משתנים

במהלך תחזוקת קוד קיים, ייתכן שתצטרך לארגן מחדש שמות משתנים או שמות פסקאות. ביצוע פעולה זו באופן ידני יכול להיות תהליך כואב, מכיוון שכנראה תצטרך לעדכן הן את ההצהרה המקורית והן את כל ההפניות בקוד המקור. למרבה המזל, יש פונקציה לכך, בואו נעבור על דוגמה. חזרה ל-CBL0001, הקש **CTRL+G** כדי להעלות את פונקציית המעבר לשורה ועבור לשורה 40. זוהי הצהרת המשתנה ACCT-NO. לחץ באמצעות לחצן העכבר הימני על המשתנה ובחר "**Find All References**". מכאן אנו יכולים לראות שמלבד ההצהרה, המשתנה מוזכר גם בשורה 88. לכן, אם נשנה את שם המשתנה, כנראה שנצטרך לעדכן גם הפניה זו. כדי לבצע את שינוי השם, ודא שהסמן נמצא על המשתנה ולאחר מכן הקש **SHIFT/Fn+F2**. פעולה זו תעלה חלונית קופצת קטנה שתבקש ממך לספק שם משתנה חדש, כפי שמוצג באיור 8. הזן `ACCT-NO-TEST` והקש **enter**.

![](Images/image021.png)

*איור 8. שינוי שמות משתנים*

תבחין שגם הצהרת המשתנה וגם ההפניה בשורה 88 עודכנו לערך החדש. כפי שצוין קודם לכן, אותו תהליך עובד גם עבור שמות פסקאות. לדוגמה, קדימה, ארגן מחדש את שם הפסקה READ-RECORD ל-READ-NEW-RECORD.

### טיפול בשגיאות

תוסף IBM Z Open Editor מספק גם רמה של בדיקת תחביר עבור קוד מקור מקומי. למרות שאינה יסודית כמו המהדר, זוהי שיטה לזיהוי מהיר של שגיאות בסיסיות בקוד שלך לפני הגשתו לקומפילציה. כדי להדגים, בואו ניצור שגיאה ואז נראה כיצד העורך מציג לנו אותה. ראשית, פתח את תצוגת הבעיות על ידי בחירת **View** ולאחר מכן **Problems** מתפריט העורך. תצוגת הבעיות אמורה להיפתח בתחתית החלון, כפי שמתואר באיור 9.

![](Images/image023.png)

*איור 9. תצוגת בעיות*

כעת עלינו להכניס שגיאה לקוד. אחרי שורה 87, הוסף את השורה:

`MOVE ACCT-NO TO ACCT-NO-NO.`

שים לב ששורה זו מזהה באופן שגוי את המשתנה השני, שאינו קיים. לאחר הזנת שורה זו, תבחין שהמשתנה הלא חוקי סומן בקו תחתון אדום כדי להדגיש אותו כשגיאה. כמו כן, בתצוגת הבעיות יש שגיאה חדשה. לחיצה על השגיאה תדגיש את שורת הקוד הבעייתית בעורך, המוצגת באיור 10, ותאפשר לך להציג את השגיאה ישירות.

![](Images/image024.png)

*איור 10. הדגשת שגיאה בקוד המקור*

כעת, כשאתה רואה היכן ממוקמת השגיאה, ניתן לתקן אותה. ברגע שהשגיאה תוקנה, הבעיה נעלמת מתצוגת הבעיות.

## סיכום

בפרק זה, הצלחת לעבור על כמה מתכונות העריכה של Z Open Editor עבור VSCode. יכולות אלה הופכות את עריכת COBOL, PL/I ו-JCL להרבה יותר ידידותית וקלה יותר מכמה מהעורכים האחרים בשוק.

\newpage

# VS Code עם חבילת הרחבות קוד פתוח Code4z

סעיף זה מציג את חבילת ההרחבות Code4z, ובפרט, את הרחבת התמיכה בשפת COBOL.

- **מהו Code4z?**
- **סיומות קבצים מוכרות**
- **הדגשת תחביר וצביעה**
- **בדיקת תחביר וסמנטיקה**
- **ניווט בקוד**
     - **מעבר להגדרה (Go To Definition)**
     - **מצא את כל ההפניות (Find All References)**
- **תמיכה ב-Copybook**
- **השלמה אוטומטית (Autocomplete)**
- **סיכום**

## מהו Code4z?

Code4z היא חבילת הרחבות mainframe בקוד פתוח, הכל-באחד, עבור Visual Studio Code. חבילת Code4z מכילה הרחבות המספקות תמיכה בשפות COBOL ו-High-Level Assembler, מנפה באגים (debugger) לתוכניות COBOL, וכן כלים המאפשרים למפתחים לגשת למערכי נתונים של mainframe ולמאגרי קוד של CA Endevor באמצעות ממשק Visual Studio Code. מדריך זה מתמקד בהרחבת התמיכה בשפת COBOL. הרחבת Zowe Explorer כלולה גם היא בחבילת Code4z.

הרחבת התמיכה בשפת COBOL ממנפת את פרוטוקול שרת השפה (Language Server Protocol) כדי לספק תכונות של השלמה אוטומטית, הדגשה ואבחון עבור קוד COBOL. יחד עם Zowe Explorer, ניתן לטעון קוד COBOL ממערך נתונים של mainframe, ולערוך אותו תוך מינוף תכונות ה-LSP של ההרחבה. לאחר סיום העריכה, ניתן לשמור את הקובץ בחזרה ב-mainframe, ולאחסן עותק באופן מקומי.

ניתן להתקין את חבילת ההרחבות Code4z ב-VS Code על ידי חיפוש "Code4z" ב-Extensions Marketplace בתוך VS Code ובחירת install. חבילת ההרחבות מכילה מספר הרחבות שניתן למנף בעבודה עם ה-mainframe, כולל הרחבת התמיכה בשפת COBOL המספקת פונקציונליות דומה להרחבת Z Open Editor שנדונה קודם לכן. לכן, ודא שרק אחת משתי הרחבות אלה מופעלת. הרחבות אחרות הכלולות בחבילה יעבדו עם תמיכה בשפת COBOL או עם Z Open Editor. לקבלת הוראות מפורטות יותר על התקנת הרחבה זו, עיין בפרק "התקנת VSCode והרחבות".

## סיומות קבצים מוכרות

Code4z מזהה קבצים עם הסיומות .COB ו-.CBL כקבצי COBOL. זה חל הן על קבצים מקומיים והן על קבצים המוחזקים ב-PDS ב-mainframe. תכונות התמיכה בשפת COBOL מופעלות באופן אוטומטי כאשר אתה פותח כל קובץ עם סיומת המזהה אותו כקובץ COBOL.

## הדגשת תחביר וצביעה

הרחבת התמיכה בשפת COBOL מאפשרת צביעה של מילות מפתח, פסקאות ומשתנים בצבעים שונים כדי להקל על הניווט בקוד.

## בדיקת תחביר וסמנטיקה

הרחבת התמיכה בשפת COBOL בודקת שגיאות וטעויות בקוד ה-COBOL. תכונת בדיקת התחביר סוקרת את כל תוכן הקוד, מדגישה שגיאות ומציעה תיקונים.

![](Images/code4z/code4z-img1.png)

*איור 1. תכונת בדיקת התחביר והסמנטיקה מדגישה שגיאה.*

## ניווט בקוד

הרחבת התמיכה בשפת COBOL מאפשרת מספר תכונות להקלת הניווט בקוד.

### מעבר להגדרה (Go To Definition)

כאשר הסמן שלך ממוקם על שם משתנה או פסקה, תוכל ללחוץ על **F12** או **CTRL+click** כדי להשתמש בפונקציונליות **Go To Definition** כדי להציג את הנקודה בקוד שבה המשתנה או הפסקה מוגדרים.

![](Images/code4z/code4z-img3.png)

*איור 2. Go To Definition מציג את הנקודה שבה משתנה USA-STATE מוגדר לראשונה.*

### מצא את כל ההפניות (Find All References)

הפונקציונליות **Find All References** (**SHIFT+ALT+F12**) מדגישה את כל ההפניות למשתנה או לפסקה ומציגה אותן ברשימה בסרגל הצד כך שתוכל לנווט ביניהן בקלות.

![](Images/code4z/code4z-img4.png)

*איור 3. Find All References מפרט את כל ההפניות למשתנה STREET-ADDR בקוד.*

## תמיכה ב-Copybook

Copybooks הם קטעי קוד מקור המאוחסנים במערכי נתונים נפרדים שאליהם מפנים בתוכנית. הרחבת התמיכה בשפת COBOL מאפשרת לך להוריד את כל ה-copybooks המוזכרים בתוכנית שלך מה-mainframe לתיקייה בסביבת העבודה שלך. כדי שתכונה זו תעבוד, עליך להגדיר פרופיל Zowe CLI `zosmf`. ניתן גם לאפשר תמיכה ב-copybooks המאוחסנים באופן מקומי בתיקיות בסביבת העבודה שלך. זה שימושי בעת עבודה עם פרויקט COBOL המאוחסן במאגר Github.

הרחבת התמיכה בשפת COBOL מסייעת להבטיח ש-copybooks הנקראים בקוד יישארו תואמים באמצעות ניתוח סמנטי של מילות מפתח, משתנים ופסקאות בתוך copybooks, ומבטיחה את עקביות הקוד על ידי הגדרת משתנים ופסקאות על פני copybooks. ההרחבה גם מסייעת להגן מפני שגיאות לא רצויות הנגרמות על ידי copybooks רקורסיביים או חסרים.

הפונקציונליות **Go To Definition** ו-**Find All References** מורחבות לעבוד עבור מופעים של משתנים ופסקאות מ-copybooks הנקראים בתוכנית וכן מהתוכנית עצמה. ניתן גם להשתמש בתכונת **Go To Definition** על שם copybook כדי לפתוח אותו.

## השלמה אוטומטית (Autocomplete)

הרחבת התמיכה בשפת COBOL מספקת הצעות חיות בזמן ההקלדה עבור מילות מפתח של COBOL, וכן עבור משתנים ופסקאות שכבר מוזכרים בקוד או ב-copybooks המשמשים את התוכנית.

![](Images/code4z/code4z-img5.png)

*איור 4. השלמה אוטומטית מפרטת משתנים ומילות מפתח אפשריים המתחילים במחרוזת המוקלדת ברשימה.*

## סיכום

בפרק זה, הוצגו לך כל תכונות התמיכה בשפת COBOL של חבילת ההרחבות בקוד פתוח Code4z עבור VS Code.

\newpage

# Zowe CLI ותוספי Zowe CLI

בפרק זה, נסביר מהו CLI ומדוע תרצה להשתמש בו, כיצד להשתמש ב-Zowe CLI באופן אינטראקטיבי, כיצד להפשיט פקודות CLI לסקריפטים שימושיים, וכיצד Zowe CLI מאפשר שימוש בכלי קוד פתוח מוכרים תוך כדי פיתוח יישומי COBOL ב-mainframe.

- **מהו CLI ומדוע תרצה להשתמש בו?**

- **מהו Zowe CLI?**

- **שימוש אינטראקטיבי ב-Zowe CLI**
     - **התקנת Zowe CLI**
     - **עזרה אינטראקטיבית**
     - **פרופילי Zowe**
     - **אינטראקציה עם מערכי נתונים של z/OS**
     - **אינטראקציה עם עבודות z/OS**

- **אוטומציה של משימות באמצעות Zowe CLI**
     - **הגשת עבודות אוטומטית**
     - **שימוש בשפות תכנות אחרות ואינטגרציה רציפה**
     - **דוגמאות נוספות**

- **עולם כלי הקוד הפתוח המודרניים**

- **סיכום**

## מהו CLI ומדוע תרצה להשתמש בו?

CLI הוא קיצור של Command Line Interface (ממשק שורת פקודה). זוהי תוכנית המאפשרת אינטראקציה עם המשתמש באמצעות קלט מבוסס טקסט. בימים הראשונים של המחשוב, ממשקי שורת פקודה היו האמצעי היחיד לאינטראקציה עם מערכות הפעלה. המצאת העכבר ופיתוח ממשקי משתמש גרפיים הובילו לחוויה שאנו מכירים כיום. ממשקי משתמש גרפיים (GUI) מעוצבים היטב בהחלט מניבים חוויה אינטראקטיבית משופרת. עם זאת, ממשקי CLI עדיין נמצאים בשימוש נרחב כיום והם חזקים מאוד. Windows shell ו-bash הם דוגמאות נפוצות למסופים שבהם כלי שורת פקודה מופעלים באופן אינטראקטיבי.

אם ממשקי GUI מעוצבים היטב מניבים חוויה אינטראקטיבית משופרת, מדוע שתשתמש ב-CLI? במילה אחת, אוטומציה. ניתן להשתמש בממשקי שורת פקודה באופן אינטראקטיבי המאפשר חקירה מהירה של פקודות זמינות. הם גם בדרך כלל מונחים-עצמית וחלקם אף מציעים תצוגות עזרה מודרניות על ידי הפעלת תוכן בדפדפן. אבל, הם גם ממשקים תכנותיים שבהם ניתן להפשיט בקלות רצפי פקודות ומשימות לסקריפטים.

## מהו Zowe CLI?

Zowe CLI הוא CLI בקוד פתוח עבור ה-mainframe. זהו כלי שניתן להריץ על Windows, Linux ו-Mac המציע אמצעי לאינטראקציה עם ה-mainframe מסביבה שבה זמינים כלי קוד פתוח מודרניים. פלטפורמות ענן כמו Amazon Web Services, Azure ו-Google Cloud Platform כולן מספקות ממשקי CLI הנמצאים בשימוש נרחב. Zowe CLI עוזר להפוך את האינטראקציה עם ה-mainframe דומה לאינטראקציה עם שירותי ענן אחרים.

בבסיסו, Zowe CLI מספק אינטראקציה מרחוק עם מערכי נתונים ועבודות של z/OS, קבצי Unix System Services, פקודות TSO וקונסולה, ושירותי הקצאה. Zowe CLI הוא גם טכנולוגיה ניתנת להרחבה וקיימים תוספים רבים המרחיבים את טווח ההגעה שלו לתת-מערכות z/OS ותוכנות ספקים.

Zowe CLI הוא כלי גישור בין מערכות מבוזרות ל-mainframe. בחר את השפה או כלי הקוד הפתוח המועדפים עליך ונצל אותם לפיתוח mainframe בסיוע Zowe CLI. רוצה לפתח אוטומציה ב-Python? רוצה לכתוב בדיקות ב-Node? רוצה להריץ צינורות Jenkins לאינטגרציה רציפה? רוצה להשתמש במסגרות בדיקה בקוד פתוח כמו Mocha או Jest של פייסבוק? רוצה למנף כלי איכות קוד כמו SonarQube? קדימה!

ממשקי CLI שימושיים לאוטומציה של משימות חוזרות. עבור יישומי COBOL ב-mainframe, Zowe CLI יכול לעזור לך להפוך את תהליכי הבנייה, הפריסה והבדיקה שלך לאוטומטיים. עיין ב[בלוג](https://medium.com/zowe/continuous-integration-for-a-mainframe-app-800657e84e96) זה למידע נוסף ולקוד לדוגמה שאיפשר זאת! Zowe CLI יכול גם לעזור לך להפוך משימות ניהוליות לאוטומטיות.

לרוב סביבות הפיתוח המשולבות יש גם מסופים משולבים כך שניתן למנף את ה-CLI מסביבת הפיתוח המבוזרת המועדפת עליך, כולל VS Code!

## שימוש אינטראקטיבי ב-Zowe CLI

ניתן למנף את Zowe CLI לחקירה מהירה של שירותי z/OS וכן להנפקת פקודות שעדיין אינן זמינות בסביבת הפיתוח המשולבת שבחרת. לפני פיתוח אוטומציה, מקובל לבצע תחילה משימה שחוזרת על עצמה לעתים קרובות מה-CLI באופן אינטראקטיבי.

### התקנת Zowe CLI

Zowe CLI הוא חבילת node והוא אחד מתוך למעלה מ-1.2 מיליון חבילות node הזמינות במרשם הציבורי של npm. לאחר התקנת Node.js ו-npm במחשב הלקוח, ניתן להתקין את ה-CLI הליבתי פשוט על ידי הנפקת `npm install -g @zowe/cli@zowe-v3-lts`. קיימת שיטת התקנה חלופית אם לתחנת העבודה שלך אין גישה למרשם הציבורי. פרטים נוספים על התקנת Zowe CLI ותוספי Zowe CLI מסופקים בסעיף עתידי שכותרתו "התקנת Zowe CLI ותוספים".

### עזרה אינטראקטיבית

כדי להתחיל, אתה יכול פשוט לפתוח מסוף ולהנפיק `zowe`. זה יניב את העזרה ברמה העליונה.

![](Images/zowe/zowe-cli-help.png)

*איור 1. עזרה של Zowe CLI*

בדוגמה לעיל, מותקנות הרחבות מרובות. מבנה הפקודות הוא `zowe <group> <action> <object>` ואחריו פרמטרים ואפשרויות שונות הספציפיות לפקודה. לדוגמה, פקודה חוקית היא `zowe files list data-set "HLQ.*"`. פקודה זו תפרט מערכי נתונים התואמים לתבנית "HLQ.*". ניתן להוסיף `-h` לכל פקודה כדי לקבל מידע נוסף. התייחסות תכופה לעזרה יכולה להיות קשה וגוזלת זמן, כך שאם לסביבה שלך יש גישה לדפדפן אינטרנט, פשוט הוסף `--help-web` או `--hw` לכל פקודה כדי להפעיל עזרה אינטראקטיבית באינטרנט.

![](Images/zowe/zowe-cli-web-help.png)

*איור 2. עזרה אינטרנטית של Zowe CLI*

עדיין לא התקנת את ה-CLI? תוכל גם לבדוק עותק של עזרת האינטרנט עבור Zowe CLI הליבתי ותוספי Zowe [כאן](https://docs.zowe.org/stable/web_help/index.html).

### פרופילי Zowe

טכנולוגיות לקוח של Zowe כמו Zowe CLI והרחבת Zowe Explorer VS Code מאחסנות מידע חיבור בקבצים הידועים בדרך כלל כפרופילים. זה מספק נוחות מכיוון שלאחר יצירת פרופילים לשירותים, משתמשים אינם צריכים לספק מידע זה כל הזמן.

### אינטראקציה עם מערכי נתונים של z/OS

Zowe CLI מספק חבילה משמעותית של פונקציונליות אינטראקציה עם מערכי נתונים של z/OS. עיין באיורים הבאים לפרטים על פעולות זמינות ופקודת רשימה לדוגמה.

![](Images/zowe/zowe-cli-zos-files-actions.png)

*איור 3. פעולות zos-files של Zowe CLI*

![](Images/zowe/zowe-cli-zos-files-list-ds-command.png)

*איור 4. פקודת zos-files list ds לדוגמה של Zowe CLI*

### אינטראקציה עם עבודות z/OS
Zowe CLI מספק חבילה משמעותית של פונקציונליות אינטראקציה עם עבודות z/OS. עיין באיורים הבאים לפרטים על פעולות זמינות ופקודת הגשת עבודה לדוגמה.

![](Images/zowe/zowe-cli-zos-jobs-actions.png)

*איור 5. פעולות zos-jobs של Zowe CLI*

![](Images/zowe/zowe-cli-zos-jobs-submit-ds-command.png)

*איור 6. פקודת zos-jobs submit ds לדוגמה של Zowe CLI*

## אוטומציה של משימות באמצעות Zowe CLI
הפעלת פקודות באופן אינטראקטיבי היא דרך מצוינת ללמוד את יכולותיו של Zowe CLI. עם זאת, יצירת אוטומציה מותאמת אישית למשימות החוזרות על עצמן לעתים קרובות ושימוש בכלי פיתוח יקרי ערך הם המקום שבו טמון ערך משמעותי. עבור פיתוח COBOL, ניתן להשקיע זמן רב בסקירת פלט המהדר ובבדיקת תוכניות. משימות חוזרות אלו הן מועמדות מצוינות לאוטומציה.

### הגשת עבודות אוטומטית
בואו נחקור אוטומציה של הגשת עבודה ואימות שקוד החזרה הוא 0. כמובן, נוכל גם לנתח את פלט ה-spool עבור הודעות ספציפיות מעניינות, אך נשמור על פשטות לעת עתה. לדוגמה זו, נמנף את Node.js לפיתוח חבילת אוטומציה חדשה. כדי להתחיל, אצור קובץ package.json כדי להקל על אחרים לנהל ולהתקין את הפרויקט. הוא יכיל את רשימת התלות של הפרויקט שלי וכן את משימות האוטומציה שאפתח. דרך מהירה ליצור package.json היא להנפיק `npm init` ולענות על ההנחיות. לאחר היצירה אוסיף משימת submitJob. תוכל להוסיף כאן כל אוטומציה שתרצה. ה-package.json הסופי שלי מוצג באיור הבא. תוכל ללמוד עוד על קבצי package.json [כאן](https://docs.npmjs.com/creating-a-package-json-file).

![](Images/automating-tasks/sample-package-json.png)

*איור 7. package.json לדוגמה*

לאחר מכן אצור קובץ config.json לאחסון כל המשתנים שאולי ארצה לשנות עבור הפרויקט שלי. במקרה זה, נגדיר את העבודה להגשה ואת קוד החזרה המרבי המותר עבור אותה עבודה.

![](Images/automating-tasks/sample-config-json.png)

*איור 8. config.json לדוגמה*

לאחר מכן, נכתוב את האוטומציה שלנו. Zowe CLI נבנה מתוך מחשבה על סקריפטים ויכול להפיק תגובות בפורמט JSON שניתן לנתח בקלות.

![](Images/automating-tasks/zowe-cli-response-format-json.png)

*איור 9. פלט JSON לדוגמה של תגובת Zowe CLI*

כעת, במקום להנפיק פקודה זו ולסקור אותה כדי לראות אם קוד החזרה קטן או שווה ל-4, אנו רוצים להפוך אותה לאוטומטית. ראה את היישום בסקריפט node להלן.

![](Images/automating-tasks/script-to-submit-job-check-rc.png)

*איור 10. קוד לדוגמה להגשת עבודה ואימות שהפלט קטן או שווה ל-RC מרבי מותר*

הייתי צריך להשקיע כדי לכתוב אוטומציה זו, אך עבור הגשות עבודה עתידיות אוכל פשוט להנפיק `npm run submitJob`. סביבות פיתוח משולבות כמו VS Code יכולות להמחיש משימות אלה ולהפוך את המשימות החוזרות על עצמן לקלות כמו לחיצת כפתור :). עבודה זו יכולה לקמפל, לקשר ו/או להריץ תוכנית COBOL.

![](Images/automating-tasks/npm-script-button-click-and-run.png)

*איור 11. המחשה של סקריפט npm והרצה לדוגמה*

קוד מתקדם יותר הממכן את הקומפילציה, הפריסה לסביבת בדיקה ובדיקה של יישום COBOL CICS מתוארים ב[בלוג](https://medium.com/zowe/continuous-integration-for-a-mainframe-app-800657e84e96) זה.

### שימוש בשפות תכנות אחרות ואינטגרציה רציפה
דוגמה טובה נוספת לאוטומציה של משימות באמצעות Zowe CLI היא כאשר ברצונך לשלב שפות תכנות אחרות בפיתוח ה-COBOL שלך. בדומה ל-3.4.1, תוכל להשתמש בשפות אחרות כגון Typescript כדי לכתוב מחולל תוכניות COBOL ולהשתמש ב-Zowe CLI ליצירת תהליך "בלחיצה אחת" ליצירת התוכנית שלך. האיור שלהלן הוא ייצוג של אותו תהליך אוטומטי "בלחיצה אחת" שבו מבוצעות מספר משימות כגון יצירת תוכנית ה-COBOL שלך, העלאתה ל-mainframe, קומפילציה שלה והרצת ה-JCL שלך לבדיקתה.

![](Images/automating-tasks/one-click-cobol-build.png)

*איור 12. תהליך בניית COBOL "בלחיצה אחת"*

לאחר מכן תוכל לשדרג תהליך זה על ידי מינוף צינור CI/CD. מהו צינור CI/CD? זוהי דרך אוטומטית לבנות, לבדוק ולפרוס את היישום שלך ותוכל לעשות את אותו הדבר עם פיתוח ה-COBOL שלך. האיור שלהלן מציג את הצינור עבור אותן משימות אוטומטיות שעשינו קודם לכן.

![](Images/automating-tasks/CircleCI-pipeline.png)

*איור 13. צינור CI/CD של תהליך בניית ה-COBOL "בלחיצה אחת"*

כדי לדעת יותר על נושא זה, בדוק [את זה](https://medium.com/@jessielaine.punongbayan/how-i-used-typescript-to-generate-my-cobol-programs-a2a180209148).

### דוגמאות נוספות
אם אתה מחפש דוגמה כיצד להשתמש ב-Zowe Explorer וב-Zowe CLI עם פרוצדורות מאוחסנות של Db2, עיין ב[בלוג](https://www.idug.org/browse/blogs/blogviewer?BlogKey=22f9b8b4-4645-4c50-ba31-2d1140025544) זה.

אם אתה מעוניין להשתמש בכלי קוד פתוח בפיתוח שלך, תוכל לעיין ב[בלוג](https://medium.com/zowe/how-to-write-cleaner-and-safer-z-os-code-with-zowe-cli-and-sonarqube-6afb283348f9) זה שבו הוא מדבר על שימוש ב-Zowe CLI למינוף כלי ניתוח קוד סטטי בעת פיתוח יישומי COBOL.

לבלוגים ומאמרים נוספים על מינוף טכנולוגיות Zowe, עיין ב-[https://medium.com/zowe](https://medium.com/zowe).

## עולם כלי הקוד הפתוח המודרניים
רק התחלנו לגעת בקצה הקרחון של שימוש בכלים ושפות מודרניים לפיתוח mainframe ושילוב יישומי mainframe בצינורות DevOps ארגוניים. ככלי גישור, Zowe CLI מאפשר שימוש בשפע של כלים המפותחים על ידי קהילה עצומה לפיתוח mainframe. אם אתה חדש ב-mainframe, אני מקווה שזה מציע היכרות מסוימת בזמן שאתה עובר לתחום זה. אם אתה מפתח mainframe מנוסה, אני מקווה שתמצא זמן לנסות כמה מהטכנולוגיות הזמינות הללו כדי לראות אם הן יכולות לעזור לך.

## סיכום
כממשק משתמש ותכנותי כאחד, ממשקי שורת פקודה מציעים ערך משמעותי בפישוט תהליכים מורכבים וחוזרים למשימות בודדות. ממשקי CLI נמצאים בשימוש נפוץ בעת פיתוח על פלטפורמות ענן פופולריות כמו Amazon Web Services. Zowe CLI הוא ה-CLI עבור ה-mainframe שהורחב באמצעות תוספים רבים. Zowe CLI פועל ככלי גישור המאפשר שימוש בכלי פיתוח מבוזרים בעבודה עם יישומי mainframe. משאבים ומאמרים רבים זמינים לשימוש ב-Zowe CLI ליצירת אוטומציה מותאמת אישית, בניית צינורות CI ושילוב ניתוח סטטי בתהליכי פיתוח ה-COBOL שלך. כלי פיתוח שנוצרו על ידי קהילת הקוד הפתוח המבוזרת יכולים כעת להיות ממונפים ביעילות לפיתוח mainframe.

\newpage

# התקנת VSCode והרחבות

פרק זה מכסה את כל ההיבטים של הורדה והתקנה של Visual Studio (VS) Code וכל ההרחבות הדרושות. הוא כולל:

- **התקנת VSCode**

- **התקנת הרחבות VSCode**
     - **Zowe Explorer**
     - **IBM Z Open Editor**
     - **Code4z**

- **סיכום**

## התקנת VSCode

אם עדיין אין לך VSCode מותקן בתחנת העבודה שלך, אנא עשה זאת כעת על ידי ביצוע הוראות ההורדה וההתקנה בקישור למטה:

[`https://code.visualstudio.com/download` ](https://code.visualstudio.com/download)

![](Images/image025.png)

*איור 1. אתר ההורדות של VSCode*

**הערה**: הקפד לבחור את קובץ ההתקנה הנכון עבור מערכת ההפעלה של תחנת העבודה שלך, כפי שמוצג באיור 1.

## התקנת הרחבות VSCode

סעיף זה מציג את Zowe Explorer, IBM Z Open Editor, וחבילת ההרחבות Code4z המפורטות באיור 2, והוראות כיצד להתקין אותן. שים לב שאתה יכול לבחור להשתמש ב-IBM Z Open Editor או בחבילת ההרחבות Code4z.

![](Images/image026-a.png)

![](Images/image026-b.png)

![](Images/image026-c.png)

*איור 2. הרחבות VSCode*

### Zowe Explorer

Zowe היא מסגרת חדשה, והראשונה בקוד פתוח עבור z/OS ומספקת פתרונות לצוותי פיתוח ותפעול לנהל, לשלוט, לכתוב סקריפטים ולפתח על ה-mainframe באופן מאובטח כמו כל פלטפורמת ענן אחרת. מחוץ לקופסה, Zowe Explorer מספק פונקציונליות רבה המאפשרת למפתחי z/OS גישה לעבודות, מערכי נתונים וקבצי (USS) בשרת z/OS. מגובה על ידי Zowe CLI ו-z/OSMF, למפתחים יש כעת תכונות חזקות המקלות על העבודה עם z/OS בתוך סביבת VSCode המוכרת. ניתן להשתמש בהרחבה זו לעריכת קבצי COBOL ו-PL/I שנפתחו ב-z/OS MVS™ ו-USS באמצעות תצוגות ה-Data Sets וה-USS של הרחבת Zowe. היא יכולה אפילו להריץ JCL ומאפשרת לך לעיין בקבצי spool של עבודות. למידע נוסף על Zowe Explorer והאינטראקציה שלו עם z/OS, בקר בכתובת:

[https://ibm.github.io/zopeneditor-about/Docs/interact_zos_zowe_explorer.html](https://ibm.github.io/zopeneditor-about/Docs/interact_zos_zowe_explorer.html)

#### התקנת Zowe Explorer

פתח את VSCode ובתפריט הכלים השמאלי בחר **Extensions**. משם, בשדה החיפוש "Search Extensions in Marketplace", הקלד `Zowe Explorer`. תוצאות החיפוש יתחילו להתמלא, בחר **"Zowe Explorer"** ולחץ על **install**, כפי שמתואר באיור 3.

![](Images/image030.png)

*איור 3. התקנת Zowe Explorer ב-VSCode*

לקהילת Zowe יש מספר סרטונים מקוונים המדריכים את השלבים הנדרשים להתקנה, תצורה ותפעול של Zowe Explorer, ראה [Zowe Explorer VSC Extension (part 1)](https://www.youtube.com/watch?v=G_WCsFZIWt4&t=0m38s).

### IBM Z Open Editor

IBM Z Open Editor מביא תמיכה בשפות COBOL ו-PL/I ל-Microsoft VSCode. זוהי אחת מכמה יכולות מהדור הבא לחוויית פיתוח פתוחה עבור z/OS®. היא פועלת גם בשיתוף עם תוסף Zowe Explorer. למידע נוסף על IBM Z Open Editor, בקר בכתובת:

[https://ibm.github.io/zopeneditor-about/Docs/introduction.html#key-capabilities](https://ibm.github.io/zopeneditor-about/Docs/introduction.html#key-capabilities)

#### התקנת IBM Z Open Editor

לפני התקנת ההרחבה, אנא עיין בדרישות המוקדמות בכתובת https://marketplace.visualstudio.com/items?itemName=IBM.zopeneditor#prerequisites

פתח את VSCode ובתפריט הכלים השמאלי בחר **Extensions**. משם, בשדה החיפוש "Search Extensions in Marketplace", הקלד `IBM Z Open Editor`. תוצאות החיפוש יתחילו להתמלא, בחר **" IBM Z Open Editor "** ולחץ על **install**, כפי שמתואר באיור 4.

![](Images/image032.png)

*איור 4. התקנת IBM Z Open Editor ב-VSCode*

### Code4z

Code4z היא חבילת הרחבות mainframe בקוד פתוח, הכל-באחד, למפתחים העובדים עם יישומי z/OS, המתאימה לכל רמות הניסיון ב-mainframe, אפילו למתחילים. מפתחי יישומי mainframe יכולים להשתמש בחבילת Code4z לחוויה מודרנית, מוכרת וחלקה, המסייעת להתגבר על הסתייגויות או חששות של מפתחים מסוימים לגבי חווית המשתמש המסורתית של ה-mainframe. למידע נוסף על Code4z, בקר בכתובת [https://github.com/BroadcomMFD/code4z](https://github.com/BroadcomMFD/code4z).

#### התקנת Code4z

פתח את VSCode ובתפריט הכלים השמאלי בחר **Extensions**. משם, בשדה החיפוש "Search Extensions in Marketplace", הקלד `Code4z`. תוצאות החיפוש יתחילו להתמלא, בחר **"Code4z"** ולחץ על **install**.

חבילת ההרחבות מכילה מספר הרחבות שניתן למנף בעבודה עם ה-mainframe, כולל הרחבת התמיכה בשפת COBOL המספקת פונקציונליות דומה להרחבת Z Open Editor. לכן, ודא שרק אחת מהרחבות אלה מופעלת. ניתן להשבית הרחבות בתוך VS Code על ידי איתור ההרחבה בתפריט ההרחבות, לחיצה על גלגל השיניים של ההגדרות ובחירת `Disable`. הרחבות אחרות הכלולות בחבילת Code4z יעבדו עם תמיכה בשפת COBOL או עם Z Open Editor.

## סיכום

בפרק זה, הוצגו לך VSCode וכמה מכלי ההרחבה הזמינים לו. עברנו על תהליך התקנת VSCode, Zowe Explorer, IBM Z Open Editor ו-Code4z. הוצגת גם בקצרה לתועלת של הרחבות אלה ב-VSCode. בפרקים הבאים, נעמיק כיצד ומתי להשתמש בהם ונתרגל באמצעות מטלות מעבדה.

\newpage

# התקנת Zowe CLI ותוספים

פרק זה מכסה את כל ההיבטים של הורדה והתקנה של Zowe CLI ותוספי Zowe CLI.

- **התקנת דרישות קדם - Node.js**

- **התקנת Zowe CLI**
     - **מרשם npm ציבורי**
     - **חבילה מ-Zowe.org**

- **התקנת תוספי Zowe CLI**
     - **מרשם npm ציבורי**
     - **חבילה מ-Zowe.org**

- **סיכום**

## התקנת דרישות קדם - Node.js

לפני התקנת Zowe CLI, אנא ודא שמותקנת גרסת LTS (Long Term Support) נתמכת של Node.js ושיש לך גרסה של npm (Node Package Manager) התואמת לגרסת ה-Node.js שלך. תוכל להציג את רשימת הגרסאות הנתמכות של Node ואת גרסת ה-npm המשויכת אליהן בכתובת [`https://nodejs.org/en/about/previous-releases`](https://nodejs.org/en/about/previous-releases)

תוכל לבצע את השלבים הבאים כדי לוודא שהדרישות המוקדמות מתקיימות:

פתח את גרסת שורת הפקודה של תחנת העבודה שלך (נקראת Terminal ב-Mac OS X). לאחר פתיחת שורת הפקודה, השתמש בפקודה בדוגמה 1 כדי לבדוק אם בתחנת העבודה שלך מותקנת כעת גרסה של node.js.

```
C:\Users\User> node -v

V22.12.0
```
*דוגמה 1. גרסת Node.js*

אם אינך רואה מספר גרסה לאחר הגשת הפקודה, אין לך node.js מותקן, או אם הוא מציג גרסה לא נתמכת, עליך להתקין גרסת LTS עדכנית.

עדכון node.js לגרסה המתאימה הוא תהליך פשוט יחסית מכיוון שהמתקין דואג לרוב "העבודה הכבדה". כל שעליך לעשות הוא לבקר באתר ההורדות של Node.js, המופיע להלן, ולפעול לפי הוראות ההורדה וההתקנה עבור פלטפורמת תחנת העבודה הספציפית שלך.

[`https://nodejs.org/en/download/`](https://nodejs.org/en/download/)

תהליך זה יתקין את הגרסאות האחרונות של Node.js ומנהל החבילות של node (npm) ויחליף כל קבצי גרסה ישנים יותר במערכת שלך. זה מסיר את הצורך להסיר ידנית את הגרסאות הקודמות מראש.

לאחר השלמתו, ודא את ההתקנה ואת מספר הגרסה הנכון, כפי שמוצג קודם לכן בדוגמה 1.

**הערה**: מספרי הגרסאות בדוגמאות שלנו מסופקים אך ורק לשם התייחסות וייתכן שלא ישקפו את הגרסאות האחרונות של התוכנה.

כדי לוודא שהתקנת את גרסת ה-npm הנכונה, תוכל להנפיק באופן דומה `npm --version` ולראות אם היא תואמת לגרסת ה-Node.js הנכונה בכתובת [`https://nodejs.org/en/about/previous-releases`](https://nodejs.org/en/about/previous-releases).

## התקנת Zowe CLI
ישנן שתי שיטות מומלצות להתקנת Zowe CLI. אם יש לך גישה למרשם ה-npm הציבורי מתחנת העבודה שלך, אנו ממליצים להשתמש בשיטת התקנה זו מכיוון שמשיכת עדכונים היא חלקה. אם אין לך גישה למרשם זה, אנו ממליצים להוריד את החבילה מ-zowe.org ולהתקין אותה מהחבילה המצורפת.

### התקנה ממרשם npm ציבורי
הנפק את הפקודה הבאה במסוף שלך (למשל, שורת פקודה או אם אתה משתמש ב-VS Code, Terminal -> New Terminal):

```
npm install -g @zowe/cli@zowe-v3-lts
```

אם הפקודה מחזירה שגיאת EACCESS, עיין ב-[פתרון שגיאות הרשאות EACCESS בעת התקנת חבילות באופן גלובלי](https://docs.npmjs.com/resolving-eacces-permissions-errors-when-installing-packages-globally) בתיעוד של npm.
אם נתקלת בבעיות אחרות בסביבה שלך, אנא עיין ב-[בעיות ידועות של Zowe CLI](https://docs.zowe.org/stable/troubleshoot/cli/known-cli.html#known-zowe-cli-issues) לפתרונות.

אנו ממליצים בחום להתקין גם את תוסף Secure Credential Store לפני השימוש ב-CLI. תוסף Secure Credential Store עבור Zowe CLI מאפשר לך לאחסן את האישורים שלך באופן מאובטח במנהל האישורים המוגדר כברירת מחדל במערכת ההפעלה של המחשב שלך. ב-Linux, יהיה צורך להתקין את libsecret.

אם אתה מריץ Linux, אנא הפעל את הפקודה הבאה עבור הפצת ה-Linux שלך:

- Debian/Ubuntu: `sudo apt-get install libsecret-1-dev`
- מבוסס Red Hat: `sudo yum install libsecret-devel`
- Arch Linux: `sudo pacman -S libsecret`

פרופילי משתמש, המכילים מידע חיבור לאינטראקציה עם שירותי z/OS שונים, שנוצרו לאחר התקנת התוסף יאחסנו אוטומטית את האישורים שלך באופן מאובטח.

כדי לאחסן באופן מאובטח אישורים בפרופילי משתמש קיימים (פרופילים שיצרת לפני התקנת תוסף ה-SCS), הנפק את הפקודה הבאה:

```
zowe scs update
```

### התקנה מחבילה מצורפת
נווט אל [הורדות Zowe.org](https://www.zowe.org/#download) ולחץ על כפתור CLI Core כדי להוריד את חבילת הליבה הכוללת את Zowe CLI ואת תוסף Secure Credential Store. לאחר קבלת ה-EULA עבור Zowe, חבילה בשם `zowe-cli-package-v.r.m.zip` תורד למחשב שלך. פתח את תוכן `zowe-cli-package-v.r.m.zip` למיקום מועדף במחשב שלך.

פתח את המסוף שלך (למשל, שורת פקודה או אם אתה משתמש ב-VS Code, Terminal -> New Terminal), שנה את ספריית העבודה שלך למקום שבו פתחת את התוכן, והנפק את הפקודה הבאה:

```
npm install -g zowe-cli.tgz
```

אם הפקודה מחזירה שגיאת EACCESS, עיין ב-[פתרון שגיאות הרשאות EACCESS בעת התקנת חבילות באופן גלובלי](https://docs.npmjs.com/resolving-eacces-permissions-errors-when-installing-packages-globally) בתיעוד של npm.
אם נתקלת בבעיות אחרות בסביבה שלך, אנא עיין ב-[בעיות ידועות של Zowe CLI](https://docs.zowe.org/stable/troubleshoot/cli/known-cli.html#known-zowe-cli-issues) לפתרונות.

תוסף Secure Credential Store המומלץ בחום עבור Zowe CLI מאפשר לך לאחסן את האישורים שלך באופן מאובטח במנהל האישורים המוגדר כברירת מחדל במערכת ההפעלה של המחשב שלך. ב-Linux, יהיה צורך להתקין את libsecret.

אם אתה מריץ Linux, אנא הפעל את הפקודה הבאה עבור הפצת ה-Linux שלך:

- Debian/Ubuntu: `sudo apt-get install libsecret-1-dev`
- מבוסס Red Hat: `sudo yum install libsecret-devel`
- Arch Linux: `sudo pacman -S libsecret`

פרופילי משתמש, המכילים מידע חיבור לאינטראקציה עם שירותי z/OS שונים, שנוצרו לאחר התקנת התוסף יאחסנו אוטומטית את האישורים שלך באופן מאובטח.

כדי לאחסן באופן מאובטח אישורים בפרופילי משתמש קיימים (פרופילים שיצרת לפני התקנת תוסף ה-SCS), הנפק את הפקודה הבאה:

```
zowe scs update
```

## התקנת תוספי Zowe CLI
Zowe CLI היא טכנולוגיה ניתנת להרחבה שניתן לשפר על ידי התקנת תוספים. Zowe מציעה מספר [תוספים](https://docs.zowe.org/stable/user-guide/cli-extending.html). בזמן כתיבת שורות אלה, אלה כוללים תוספים עבור [CICS](https://www.npmjs.com/package/@zowe/cics-for-zowe-cli), [Db2](https://www.npmjs.com/package/@zowe/db2-for-zowe-cli), [FTP](https://www.npmjs.com/package/@zowe/zos-ftp-for-zowe-cli), ו-[MQ](https://www.npmjs.com/package/@zowe/mq-for-zowe-cli). ישנם גם תוספי ספקים רבים, שרבים מהם זמינים ב[מרשם הציבורי](https://www.npmjs.com/search?q=zowe-cli). בזמן כתיבת שורות אלה, אלה כוללים תוספים עבור [CA Endevor](https://www.npmjs.com/package/@broadcom/endevor-for-zowe-cli), [CA Endevor Bridge for Git](https://www.npmjs.com/package/@broadcom/endevor-bridge-for-git-for-zowe-cli), [CA File Master Plus](https://www.npmjs.com/package/@broadcom/file-master-plus-for-zowe-cli), [CA OPS/MVS](https://www.npmjs.com/package/@broadcom/ops-for-zowe-cli), [CA View](https://www.npmjs.com/package/@broadcom/caview-for-zowe-cli), [IBM CICS Bundle Generation and Deployment](https://www.npmjs.com/package/zowe-cli-cics-deploy-plugin), ו-[IBM z/OS Connect EE](https://www.npmjs.com/package/@zosconnect/zosconnect-zowe-cli).

### התקנה ממרשם npm ציבורי
כדי להתקין תוסף Zowe CLI מהמרשם, פשוט אתר את התוסף שברצונך להתקין, למשל `@zowe/cics-for-zowe-cli`, מצא את תג ההפצה עבור ההפצה שברצונך להתקין, למשל `zowe-v3-lts`, והנפק את הפקודה הבאה:

```
zowe plugins install <name>@<distTag>
```

לדוגמה,

```
zowe plugins install @zowe/cics-for-zowe-cli@zowe-v3-lts
```

ניתן להתקין מספר תוספים בפקודה אחת. לדוגמה, כדי להתקין את כל תוספי Zowe CLI הזמינים מארגון Zowe, תוכל להנפיק:

```{.bash}
zowe plugins install @zowe/cics-for-zowe-cli@zowe-v3-lts @zowe/mq-for-zowe-cli@zowe-v3-lts @zowe/zos-ftp-for-zowe-cli@zowe-v3-lts @zowe/db2-for-zowe-cli@zowe-v3-lts
```

תוספי ספקים במרשם מותקנים באותו אופן. לדוגמה, כדי להתקין את תוסף CA Endevor, תנפיק

```
zowe plugins install @broadcom/endevor-for-zowe-cli@zowe-v3-lts
```

### התקנה מחבילה מצורפת
נווט אל [הורדות Zowe.org](https://www.zowe.org/#download) ולחץ על כפתור CLI Plugins כדי להוריד את החבילה הכוללת את כל תוספי Zowe CLI עבור ארגון Zowe. לאחר קבלת ה-EULA עבור Zowe, חבילה בשם `zowe-cli-plugins-v.r.m.zip` תורד למחשב שלך. פתח את תוכן `zowe-cli-plugins-v.r.m.zip` למיקום מועדף במחשב שלך. תוכל לבחור אילו תוספים ברצונך להתקין. תוסף IBM Db2 דורש [תצורה נוספת](https://docs.zowe.org/stable/user-guide/cli-db2plugin.html#installing-from-a-local-package) בעת התקנה מחבילה מקומית. כדי להתקין את כל התוספים תוכל להנפיק:

```
zowe plugins install cics-for-zowe-cli.tgz zos-ftp-for-zowe-cli.tgz mq-for-zowe-cli.tgz db2-for-zowe-cli.tgz
```

להתקנה לא מקוונת של תוספי ספקים, אנא פנה לספק הספציפי לקבלת פרטים.

## סיכום
בפרק זה, עברנו על תהליך התקנת תוכנות הקדם, Node.js ו-npm, וכן Zowe CLI ותוספים שונים.
````
